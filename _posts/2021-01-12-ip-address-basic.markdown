---
layout: post
title: "IP Address (IPv4)"
date: "2021-01-12 00:00:00 +0900"
categories: network
tags:
  - network
  - ip
---

## 관련용어

* 네트워크 : 여러 장비를 연결한 회선
* Host : 네트워크에 연결된 디바이스
* IP : 네트워크상에서 Host를 구분하는 유일한 식별자 - 같은 네트워크상에서 IP가 중복될 수 없다
* octet : ip를 표현하는 숫자 조각 .으로 구분
* IPv4 : IP라고 하면 IPv4를 말한다. octet과 '.'으로 구분된 유일한 문자열로 표현 2^32(32bit) - ex) 8.8.8.8
* IPv6 : 2^128(128bit)개를 주소를 가질 수 있는 차세대 네트워크 주소체계 octet을 ':'로 구분 - ex) 2001:4860:4860::8888


## 실제 사용 예

### IP 주소 형태

#### DNS 주소
* 8.8.8.8 - 구글 DNS
* 4.4.4.4 - 구글 DNS
* 126.168.63.1 - KT DNS
* 126.168.63.2 - KT DNS

#### IP time 공유기(Router)
* 192.168.0.1 - 공유기 주소
* 192.168.0.x - 공유기 내부 주소 랜덤배정

공유기에서 생성한 내부 네트워크 주소로 일반적으로 1번이 공유기 주소 Gateway라고 하며 나머지 주소를 데스크탑, 휴대폰 등등에 할당한다.

#### 통신사 IP인(통피)
* (39.7)
* (223.32)
https://namu.wiki/w/%ED%86%B5%EC%8B%A0%EC%82%AC%20IP

디씨와 다른 커뮤니티에서 유동닉의 경우 아이피를 표시 해 주는데 앞의 두자리를 공개하고 뒤의 두자리는 보안 및 개인정보 문제로 숨김처리한다.

휴대폰 모바일네트워크를 통해 인터넷에 접속하는 경우 개개인의 디바이스에 모두 공인 아이피를 할당할 수는 없으니 여러 사람이 같은 아이피를 사용하게 되는데 

### 내 피씨의 IP 확인

#### 내부 IP
아래 명령으로 현재 아이피를 볼 수 있다.

윈도우 : cmd - `ipconfig \a`
맥, 리눅스 : `ifconfig` 또는 `ip address`

ip time 공유기를 사용하는 경우 `192.168.0.x` 주소를 보게 된다.

#### 외부 IP

공유기에서 확인 할 수도 있지만 더 쉽고 확실한 방법은 외부 서버에 접속해서 그 서버에서 내 아이피를 확인하는 방법이다.

이 기능을 제공하는 서비스가 많이 있다

1. 네이버에서 '내아이피'검색
2. https://www.whatismyip.com
3. https://www.myip.com
4. https://whatismyipaddress.com

## IP의 종류

### 내부 및 외부 주소

#### 사설 IP = Private IP = Virtual IP


아이피 대역
* 10.0.0.0 ~ 10.255.255.255
* 172.16.0.0 ~ 172.31.255.255
* 192.168.0.0 ~ 192.168.255.255

#### Pulbic IP

인터넷에 노출되서 다른 호스트의 접속을 처리해야 하는 장비에 부여한다.

### 고정 및 유동

#### 고정IP

인터넷 서버나 네트워크 장비에 고정적인 주소를 부여하고 사용하는 방식

IPv6을 전면적으로 사용하게 되면 많이 사용하게 될지도 모르겠다.

#### 유동IP

IPv4주소 체계의 주소 부족 때문에 한 사용자에게 한개의 아이피를 지속적으로 할당 해 주지 못하고 인터넷에 접속 할 때만 아이피를 발급 해 주는 방식으로 DHCP(Dynamic Host Configuration Protocol) 서버에서 새로운 사용자에게 아이피를 발급 해 주고 접속이 없을 때 회수한다.

인터넷 접속시에 통신사에서 공유기에 public ip를 발급 해 주고
공유기에서는 내부 네트워크의 호스트에 virtual ip(private ip)를 발급 해 준다.

## 개념설명

* 네트워크상의 장비들이 서로를 식별할 수 있는 유일한 식별자
* 32bit(4byte) 길이의 논리적 주소체계로
* 아직까지 그냥 ip주소라고 말하면 IPv4를 말한다.

표현 가능 범위

10진법 : 0.0.0.0 ~ 255.255.255.255
2진법 : 0000 0000 . 0000 0000 . 0000 0000 . 0000 0000 ~ 1111 1111 . 1111 1111 . 1111 1111 . 1111 1111

IP 갯수 : (2^8)^4 = {{}} (2^8)^4 }} = 42,9496,7296 = 43억개쯤

43억개라고 하면 큰 것 같지만 지구상의 모든 호스트에 부여하기에는 부족하고 이를 해결하기 위한 기술로 내부외부/외부 네트워크와 IPv6 기술이 나왔다.\
퍼블릭 네트워크에 노출될 서버에는 퍼블릭 IP가 필요한데 2011년 이미 IPv4는 모두 고갈되었고 이를 해결하기 위해 IPv6이 나왔다.\
IPv6이 상용화 되었음에도 2021년 현재까지는 IPv4와 서브넷 기술이 주로 사용되고 있다.

